!function(o,i){"use strict";o.Calendario=function(t,i){this.$el=o(i),this._init(t)},o.Calendario.defaults={weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekabbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthabbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(){return!1}},o.Calendario.prototype={_init:function(t){this.options=o.extend(!0,{},o.Calendario.defaults,t),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var a=this;this.$el.on("click.calendario","div.fc-row > div",function(){var t=o(this),i=t.index(),n=t.children("div"),e={day:t.children("span.fc-date").text(),month:a.month+1,monthname:a.options.displayMonthAbbr?a.options.monthabbrs[a.month]:a.options.months[a.month],year:a.year,weekday:i+a.options.startIn,weekdayname:a.options.weeks[i+a.options.startIn]};e.day&&a.options.onDayClick(t,n,e)})},_generateTemplate:function(t){var i,n=this._getHead(),e=this._getBody();switch(this.rowTotal){case 4:i="fc-four-rows";break;case 5:i="fc-five-rows";break;case 6:i="fc-six-rows"}this.$cal=o('<div class="fc-calendar '+i+'">').append(n,e),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),t&&t.call()},_getHead:function(){for(var t='<div class="fc-head">',i=0;i<=6;i++){var n=i+this.options.startIn,e=6<n?n-6-1:n;t+="<div>",t+=this.options.displayWeekAbbr?this.options.weekabbrs[e]:this.options.weeks[e],t+="</div>"}return t+="</div>"},_getBody:function(){var t=new Date(this.year,this.month+1,0).getDate(),i=new Date(this.year,this.month,1);this.startingDay=i.getDay();for(var n='<div class="fc-body clearfix"><div class="fc-row">',e=1,a=0;a<7;a++){for(var o=0;o<=6;o++){var s=this.startingDay-this.options.startIn,r=s<0?6+s+1:s,h="",c=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&e===this.today.getDate(),d="";if(e<=t&&(0<a||r<=o)){h+='<span class="fc-date">'+e+'</span><span class="fc-weekday">'+this.options.weekabbrs[6<o+this.options.startIn?o+this.options.startIn-6-1:o+this.options.startIn]+"</span>";var l=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(e<10?"0"+e:e)+"-"+this.year,y=this.caldata[l];y&&(d=y),""!==d&&(h+="<div>"+d+"</div>"),++e}else c=!1;var u=c?"fc-today ":"";""!==d&&(u+="fc-content"),n+=""!==u?'<div class="'+u+'">':"<div>",n+=h,n+="</div>"}if(t<e){this.rowTotal=a+1;break}n+='</div><div class="fc-row">'}return n+="</div></div>"},_isValidDate:function(t){t=t.replace(/-/gi,"");var i=parseInt(t.substring(0,2),10),n=parseInt(t.substring(2,4),10),e=parseInt(t.substring(4,8),10);return!(i<1||12<i)&&(!(n<1||31<n)&&((4!=i&&6!=i&&9!=i&&11!=i||!(30<n))&&((2!=i||e%400!=0&&e%4!=0||e%100==0||!(29<n))&&(!(2==i&&e%100==0&&29<n)&&{day:n,month:i,year:e}))))},_move:function(t,i,n){"previous"===i?"month"===t?(this.year=0<this.month?this.year:--this.year,this.month=0<this.month?--this.month:11):"year"===t&&(this.year=--this.year):"next"===i&&("month"===t?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===t&&(this.year=++this.year)),this._generateTemplate(n)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(t){var i=Math.floor((t+this.startingDay-this.options.startIn)/7),n=t+this.startingDay-this.options.startIn-7*i-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(i).children("div").eq(n).children("div")},setData:function(t){t=t||{},o.extend(this.caldata,t),this._generateTemplate()},gotoNow:function(t){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(t)},"goto":function(t,i,n){this.month=t,this.year=i,this._generateTemplate(n)},gotoPreviousMonth:function(t){this._move("month","previous",t)},gotoPreviousYear:function(t){this._move("year","previous",t)},gotoNextMonth:function(t){this._move("month","next",t)},gotoNextYear:function(t){this._move("year","next",t)}};var e=function(t){i.console&&i.console.error(t)};o.fn.calendario=function(t){var i=o.data(this,"calendario");if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){i?o.isFunction(i[t])&&"_"!==t.charAt(0)?i[t].apply(i,n):e("no such method '"+t+"' for calendario instance"):e("cannot call methods on calendario prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i?i._init():i=o.data(this,"calendario",new o.Calendario(t,this))});return i}}(jQuery,window);