!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(d){"use strict";var g,p;d.fn.ratingLocales={},d.fn.ratingThemes={},g={NAMESPACE:".rating",DEFAULT_MIN:0,DEFAULT_MAX:5,DEFAULT_STEP:.5,isEmpty:function(e,t){return null==e||0===e.length||t&&""===d.trim(e)},getCss:function(e,t){return e?" "+t:""},addCss:function(e,t){e.removeClass(t).addClass(t)},getDecimalPlaces:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},applyPrecision:function(e,t){return parseFloat(e.toFixed(t))},handler:function(e,t,a,n,r){var i=r?t:t.split(" ").join(g.NAMESPACE+" ")+g.NAMESPACE;n||e.off(i),e.on(i,a)}},(p=function(e,t){var a=this;a.$element=d(e),a._init(t)}).prototype={constructor:p,_parseAttr:function(e,t){var a,n,r,i,s=this.$element,l=s.attr("type");if("range"===l||"number"===l){switch(n=t[e]||s.data(e)||s.attr(e),e){case"min":r=g.DEFAULT_MIN;break;case"max":r=g.DEFAULT_MAX;break;default:r=g.DEFAULT_STEP}a=g.isEmpty(n)?r:n,i=parseFloat(a)}else i=parseFloat(t[e]);return isNaN(i)?r:i},_parseValue:function(e){var t=this,a=parseFloat(e);return isNaN(a)&&(a=t.clearValue),!t.zeroAsNull||0!==a&&"0"!==a?a:null},_setDefault:function(e,t){var a=this;g.isEmpty(a[e])&&(a[e]=t)},_initSlider:function(e){var t=this,a=t.$element.val();t.initialValue=g.isEmpty(a)?0:a,t._setDefault("min",t._parseAttr("min",e)),t._setDefault("max",t._parseAttr("max",e)),t._setDefault("step",t._parseAttr("step",e)),(isNaN(t.min)||g.isEmpty(t.min))&&(t.min=g.DEFAULT_MIN),(isNaN(t.max)||g.isEmpty(t.max))&&(t.max=g.DEFAULT_MAX),(isNaN(t.step)||g.isEmpty(t.step)||0===t.step)&&(t.step=g.DEFAULT_STEP),t.diff=t.max-t.min},_initHighlight:function(e){var t,a=this,n=a._getCaption();e||(e=a.$element.val()),t=a.getWidthFromValue(e)+"%",a.$filledStars.width(t),a.cache={caption:n,width:t,val:e}},_getContainerCss:function(){var e=this;return"rating-container"+g.getCss(e.theme,"theme-"+e.theme)+g.getCss(e.rtl,"rating-rtl")+g.getCss(e.size,"rating-"+e.size)+g.getCss(e.animate,"rating-animate")+g.getCss(e.disabled||e.readonly,"rating-disabled")+g.getCss(e.containerClass,e.containerClass)},_checkDisabled:function(){var e=this,t=e.$element,a=e.options;e.disabled=void 0===a.disabled?t.attr("disabled")||!1:a.disabled,e.readonly=void 0===a.readonly?t.attr("readonly")||!1:a.readonly,e.inactive=e.disabled||e.readonly,t.attr({disabled:e.disabled,readonly:e.readonly})},_addContent:function(e,t){var a=this,n=a.$container,r="clear"===e;return a.rtl?r?n.append(t):n.prepend(t):r?n.prepend(t):n.append(t)},_generateRating:function(){var e,t,a,n=this,r=n.$element;t=n.$container=d(document.createElement("div")).insertBefore(r),g.addCss(t,n._getContainerCss()),n.$rating=e=d(document.createElement("div")).attr("class","rating-stars").appendTo(t).append(n._getStars("empty")).append(n._getStars("filled")),n.$emptyStars=e.find(".empty-stars"),n.$filledStars=e.find(".filled-stars"),n._renderCaption(),n._renderClear(),n._initHighlight(),t.append(r),n.rtl&&(a=Math.max(n.$emptyStars.outerWidth(),n.$filledStars.outerWidth()),n.$emptyStars.width(a)),r.appendTo(e)},_getCaption:function(){var e=this;return e.$caption&&e.$caption.length?e.$caption.html():e.defaultCaption},_setCaption:function(e){var t=this;t.$caption&&t.$caption.length&&t.$caption.html(e)},_renderCaption:function(){var e,t=this,a=t.$element.val(),n=t.captionElement?d(t.captionElement):"";if(t.showCaption){if(e=t.fetchCaption(a),n&&n.length)return g.addCss(n,"caption"),n.html(e),void(t.$caption=n);t._addContent("caption",'<div class="caption">'+e+"</div>"),t.$caption=t.$container.find(".caption")}},_renderClear:function(){var e,t=this,a=t.clearElement?d(t.clearElement):"";if(t.showClear){if(e=t._getClearClass(),a.length)return g.addCss(a,e),a.attr({title:t.clearButtonTitle}).html(t.clearButton),void(t.$clear=a);t._addContent("clear",'<div class="'+e+'" title="'+t.clearButtonTitle+'">'+t.clearButton+"</div>"),t.$clear=t.$container.find("."+t.clearButtonBaseClass)}},_getClearClass:function(){var e=this;return e.clearButtonBaseClass+" "+(e.inactive?"":e.clearButtonActiveClass)},_toggleHover:function(e){var t,a,n,r=this;e&&(r.hoverChangeStars&&(t=r.getWidthFromValue(r.clearValue),a=e.val<=r.clearValue?t+"%":e.width,r.$filledStars.css("width",a)),r.hoverChangeCaption&&((n=e.val<=r.clearValue?r.fetchCaption(r.clearValue):e.caption)&&r._setCaption(n+"")))},_init:function(e){var t,a=this,n=a.$element.addClass("rating-input");return a.options=e,d.each(e,function(e,t){a[e]=t}),(a.rtl||"rtl"===n.attr("dir"))&&(a.rtl=!0,n.attr("dir","rtl")),a.starClicked=!1,a.clearClicked=!1,a._initSlider(e),a._checkDisabled(),a.displayOnly&&(a.inactive=!0,a.showClear=!1,a.showCaption=!1),a._generateRating(),a._initEvents(),a._listen(),t=a._parseValue(n.val()),n.val(t),n.removeClass("rating-loading")},_initEvents:function(){var u=this;u.events={_getTouchPosition:function(e){return(g.isEmpty(e.pageX)?e.originalEvent.touches[0].pageX:e.pageX)-u.$rating.offset().left},_listenClick:function(e,t){return e.stopPropagation(),e.preventDefault(),!0!==e.handled&&(t(e),void(e.handled=!0))},_noMouseAction:function(e){return!u.hoverEnabled||u.inactive||e&&e.isDefaultPrevented()},initTouch:function(e){var t,a,n,r,i,s,l,o,c=u.clearValue||0;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!u.inactive&&(t=e.originalEvent,a=g.isEmpty(t.touches)?t.changedTouches:t.touches,n=u.events._getTouchPosition(a[0]),"touchend"===e.type?(u._setStars(n),o=[u.$element.val(),u._getCaption()],u.$element.trigger("change").trigger("rating:change",o),u.starClicked=!0):(i=(r=u.calculate(n)).val<=c?u.fetchCaption(c):r.caption,s=u.getWidthFromValue(c),l=r.val<=c?s+"%":r.width,u._setCaption(i),u.$filledStars.css("width",l)))},starClick:function(e){var t,a;u.events._listenClick(e,function(e){return!u.inactive&&(t=u.events._getTouchPosition(e),u._setStars(t),a=[u.$element.val(),u._getCaption()],u.$element.trigger("change").trigger("rating.change",a),void(u.starClicked=!0))})},clearClick:function(e){u.events._listenClick(e,function(){u.inactive||(u.clear(),u.clearClicked=!0)})},starMouseMove:function(e){var t,a;u.events._noMouseAction(e)||(u.starClicked=!1,t=u.events._getTouchPosition(e),a=u.calculate(t),u._toggleHover(a),u.$element.trigger("rating:hover",[a.val,a.caption,"stars"]))},starMouseLeave:function(e){var t;u.events._noMouseAction(e)||u.starClicked||(t=u.cache,u._toggleHover(t),u.$element.trigger("rating:hoverleave",["stars"]))},clearMouseMove:function(e){var t,a,n;!u.events._noMouseAction(e)&&u.hoverOnClear&&(u.clearClicked=!1,t='<span class="'+u.clearCaptionClass+'">'+u.clearCaption+"</span>",a=u.clearValue,n={caption:t,width:u.getWidthFromValue(a)||0,val:a},u._toggleHover(n),u.$element.trigger("rating:hover",[a,t,"clear"]))},clearMouseLeave:function(e){var t;u.events._noMouseAction(e)||u.clearClicked||!u.hoverOnClear||(t=u.cache,u._toggleHover(t),u.$element.trigger("rating:hoverleave",["clear"]))},resetForm:function(e){e&&e.isDefaultPrevented()||u.inactive||u.reset()}}},_listen:function(){var e=this,t=e.$element,a=t.closest("form"),n=e.$rating,r=e.$clear,i=e.events;return g.handler(n,"touchstart touchmove touchend",d.proxy(i.initTouch,e)),g.handler(n,"click touchstart",d.proxy(i.starClick,e)),g.handler(n,"mousemove",d.proxy(i.starMouseMove,e)),g.handler(n,"mouseleave",d.proxy(i.starMouseLeave,e)),e.showClear&&r.length&&(g.handler(r,"click touchstart",d.proxy(i.clearClick,e)),g.handler(r,"mousemove",d.proxy(i.clearMouseMove,e)),g.handler(r,"mouseleave",d.proxy(i.clearMouseLeave,e))),a.length&&g.handler(a,"reset",d.proxy(i.resetForm,e),!0),t},_getStars:function(e){var t,a=this,n='<span class="'+e+'-stars">';for(t=1;t<=a.stars;t++)n+='<span class="star">'+a[e+"Star"]+"</span>";return n+"</span>"},_setStars:function(e){var t=this,a=arguments.length?t.calculate(e):t.calculate(),n=t.$element,r=t._parseValue(a.val);return n.val(r),t.$filledStars.css("width",a.width),t._setCaption(a.caption),t.cache=a,n},showStars:function(e){var t=this,a=t._parseValue(e);return t.$element.val(a),t._setStars()},calculate:function(e){var t=this,a=g.isEmpty(t.$element.val())?0:t.$element.val(),n=arguments.length?t.getValueFromPosition(e):a,r=t.fetchCaption(n),i=t.getWidthFromValue(n);return{caption:r,width:i+="%",val:n}},getValueFromPosition:function(e){var t,a,n=this,r=g.getDecimalPlaces(n.step),i=n.$rating.width();return a=n.diff*e/(i*n.step),a=n.rtl?Math.floor(a):Math.ceil(a),t=g.applyPrecision(parseFloat(n.min+a*n.step),r),t=Math.max(Math.min(t,n.max),n.min),n.rtl?n.max-t:t},getWidthFromValue:function(e){var t,a,n=this,r=n.min,i=n.max,s=n.$emptyStars;return!e||e<=r||r===i?0:(t=(a=s.outerWidth())?s.width()/a:1,i<=e?100:(e-r)*t*100/(i-r))},fetchCaption:function(e){var t,a,n,r=this,i=parseFloat(e)||r.clearValue,s=r.starCaptions,l=r.starCaptionClasses;return i&&i!==r.clearValue&&(i=g.applyPrecision(i,g.getDecimalPlaces(r.step))),n="function"==typeof l?l(i):l[i],a="function"==typeof s?s(i):s[i],t=g.isEmpty(a)?r.defaultCaption.replace(/\{rating}/g,i):a,'<span class="'+(g.isEmpty(n)?r.clearCaptionClass:n)+'">'+(i===r.clearValue?r.clearCaption:t)+"</span>"},destroy:function(){var e=this,t=e.$element;return g.isEmpty(e.$container)||e.$container.before(t).remove(),d.removeData(t.get(0)),t.off("rating").removeClass("rating rating-input")},create:function(e){var t=this,a=e||t.options||{};return t.destroy().rating(a)},clear:function(){var e=this,t='<span class="'+e.clearCaptionClass+'">'+e.clearCaption+"</span>";return e.inactive||e._setCaption(t),e.showStars(e.clearValue).trigger("change").trigger("rating:clear")},reset:function(){var e=this;return e.showStars(e.initialValue).trigger("rating:reset")},update:function(e){var t=this;return arguments.length?t.showStars(e):t.$element},refresh:function(e){var t=this,a=t.$element;return e?t.destroy().rating(d.extend(!0,t.options,e)).trigger("rating:refresh"):a}},d.fn.rating=function(o){var c=Array.apply(null,arguments),u=[];switch(c.shift(),this.each(function(){var e,t=d(this),a=t.data("rating"),n="object"==typeof o&&o,r=n.theme||t.data("theme"),i=n.language||t.data("language")||"en",s={},l={};a||(r&&(s=d.fn.ratingThemes[r]||{}),"en"===i||g.isEmpty(d.fn.ratingLocales[i])||(l=d.fn.ratingLocales[i]),e=d.extend(!0,{},d.fn.rating.defaults,s,d.fn.ratingLocales.en,l,n,t.data()),a=new p(this,e),t.data("rating",a)),"string"==typeof o&&u.push(a[o].apply(a,c))}),u.length){case 0:return this;case 1:return void 0===u[0]?this:u[0];default:return u}},d.fn.rating.defaults={theme:"",language:"en",stars:5,filledStar:'<i class="icon-star3"></i>',emptyStar:'<i class="icon-star-empty"></i>',containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{.5:"badge badge-danger badge-danger",1:"badge badge-danger badge-danger",1.5:"badge badge-warning badge-warning",2:"badge badge-warning badge-warning",2.5:"badge badge-info badge-info",3:"badge badge-info badge-info",3.5:"badge badge-primary badge-primary",4:"badge badge-primary badge-primary",4.5:"badge badge-success badge-success",5:"badge badge-success badge-success"},clearButton:'<i class="icon-minus-sign"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"badge badge-default",clearValue:null,captionElement:null,clearElement:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0,zeroAsNull:!0},d.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"},d.fn.rating.Constructor=p,d(document).ready(function(){var e=d("input.rating");e.length&&e.removeClass("rating-loading").addClass("rating-loading").rating()})}),function(){"use strict";window.jQuery.fn.ratingThemes["krajee-svg"]={filledStar:'<span class="krajee-icon krajee-icon-star"></span>',emptyStar:'<span class="krajee-icon krajee-icon-star"></span>',clearButton:'<span class="krajee-icon-clear"></span>'}}();